<!doctype html>
<html>
  <head>
    <style>
    </style>
    <script>
      function load() {


        var sdpEl = document.getElementsByTagName('sdp')[0];


        var config = {
          'iceServers': [
            {
              urls: [
                'stun:stun1.l.google.com:19302',
                'stun:stun2.l.google.com:19302',
                'stun:stun3.l.google.com:19302',
                'stun:stun4.l.google.com:19302'
              ]
            }
          ]
        };

        var pc = new RTCPeerConnection(config);

        pc.onnegotiationneeded = function (event) {
          pc
            .createOffer()
            .then(function(offer) {
              setSdpElText(JSON.stringify(offer));
            })
            .catch(function(error) {
              setSdpElText(JSON.stringify(error));
            });
        };

        pc.oniceandidate = function (event) {
          console.log(event);
        };

        function setSdpElText(text) { sdpEl.innerHTML = text; }



        pc.createDataChannel('block');

      }
    </script>
  </head>
  <body onload="load()">
    <sdp></sdp>
  <body>
</html>