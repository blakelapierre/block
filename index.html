<!doctype html>

<html>

  <head>

    <style>
      body { margin: 0; padding: 0; }




    </style>

    <script>
      function load () {
        (function (states) {
        console.log(states);
          (function (state) {

            (function (node) {
              document.body.childNodes.forEach(function (c) {
                node.appendChild(c);
              });
            })(document.createElement('node'));

            (function (node) {
              if (state.value.indexOf('@') === 0) {

              }
              else {
                node.innerHTML = state.value;
              }
            })(document.body);

          })(states['init'] || states[Object.keys(states)[0]]);

        })(
          (function (states) {
            return Object.keys(states).reduce(function (state, states) {
              states[state] = {name: state, value: states[state]};
              return states;
            }, states);
          })({
            'init': '@textMessage',

            'textMessage':
              '<textarea></textarea>'
          })
        );
      }
    </script>

  </head>

  <body onload="load()"></body>

</html>